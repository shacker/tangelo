{% extends 'base.html' %}
{% load cache markdownify static %}
{% load image_thumb %}

{% block title %}{{ block.super }} - {{ album.title }}{% endblock title %}

{% block content %}

  <h2>{{ album }}</h2>
  {{ album.about|markdownify }}

  <div class="imagegrid mt-2">
    <div class="row">
    {% for column in columns %}
      <div class="column">
        {% for image in column %}
          {# Cache each image forever with its flickr ID (None = forever) #}
          {% cache None flickr_thumb image.flickr_id %}
            {% image_thumb image %}
          {% endcache %}
        {% endfor %}
      </div>
    {% endfor %}
    </div>
  </div>

{% endblock content %}
